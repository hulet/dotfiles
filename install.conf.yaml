- defaults:
    link:
      backup: true
      force: true
      relink: true
    create:
      mode: 0755

- create:
    ~/.config:

- clean:
    ~/:
      force: true
    ~/.config:
      force: true

- link:
    # symlink destination: git source
    ~/.bashrc: bashrc
    ~/.config/nvim: nvim
    ~/.config/starship.toml: starship.toml
    ~/.gitconfig: gitconfig
    ~/.gitignore: gitignore
    ~/.grep-exclude: grep-exclude
    ~/.screenrc: screenrc
    ~/.vim: vim
    ~/.vimrc: vimrc
    ~/.zimrc: zimrc
    ~/.zshrc: zshrc

- shell:
    # install nvim plugins
    - nvim --headless -c quitall
    # description: "set up Ghostty launcher"
    - command: |
        [[ "$(uname)" == "Darwin" ]] \
        && mkdir -p ~/Applications/ \
        && osacompile -o ~/Applications/"Terminal (Ghostty).app" -e 'do shell script "open -a Ghostty"'
